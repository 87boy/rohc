.\" File automatically generated by doxy2man0.1
.\" Generation date: dim. ao√ªt 9 2015
.TH rohc_feedback_flush 3 2015-08-09 "ROHC" "ROHC library Programmer's Manual"
.SH "NAME"
rohc_feedback_flush \- Send as much feedback data as possible.
.SH SYNOPSIS
.nf
.B #include <rohc/rohc_comp.h>
.sp
\fBint rohc_feedback_flush\fP(
    \fBstruct rohc_comp  * comp\fP,
    \fBunsigned char     * obuf\fP,
    \fBint                 osize\fP
);
.fi
.SH DESCRIPTION
.PP 
Flush unsent feedback data as much as possible. Flushing stops either because there is no more unsent feedback data in compressor, or either because the given buffer is too small.
.PP 
The \fBrohc_feedback_flush\fP function starts a transaction. The feedback data are not removed from the compressor's context when the function is called (they are only locked). There are two ways to close the transaction: 
.PP 
.RS
.PP 
\(bu A call to the function \fBrohc_feedback_remove_locked\fP to tell the ROHC compressor that feedback bytes were successfully sent. The feedback data will be removed from the compressor's context. 
.PP 
\(bu A call to the function \fBrohc_feedback_unlock\fP to tell the ROHC compressor that feedback bytes failed to be sent successfully (eg. a temporary network problem). The feedback data will be unlocked but not removed from the compressor's context. This way, the compressor will try to send them again.
.PP 
.RE
.PP 
The \fBrohc_feedback_avail_bytes\fP function might be useful to flush only when a given amount of unsent feedback data is reached. It might be useful to correctly size the buffer given to \fBrohc_feedback_flush\fP.
.PP 
please do not use this function anymore, instead use rohc_decompress3() and send feedback data yourself
.SH PARAMETERS
.TP
.B comp
The ROHC compressor 
.TP
.B obuf [output]
The buffer where to store the feedback-only packet 
.TP
.B osize
The size of the buffer for the feedback-only packet 
.SH STRUCTURES
.SH RETURN VALUE
.PP
The size of the feedback-only packet, 0 if there is no feedback data to send
.SH SEE ALSO
.BR rohc_comp.h (3),
.BR rohc_feedback_remove_locked (3),
.BR rohc_feedback_unlock (3),
.BR rohc_feedback_avail_bytes (3)
